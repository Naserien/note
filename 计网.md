* 网络核心的作用是数据交换（瞬时的switch）

* edge上的网络应用是网络存在的理由，从应用往下看的基础设施支撑网络应用

* 应用层以下都叫基础设施，作用是为应用层提供通信服务

* CS模式的主从关系：服务器是主，客户端是从，服务器先启动，被动地请求客户端发出请求

* CS（client-sever）模式的扩容性：随着客户端的增加性能逐渐下降，到了一定的值后断崖式下降

* p2p模式每个节点既是客户端又是服务器，它的通信是分布式的（CS模式为集中式）

* 面向连接仅仅是两个端系统知道通信状态，而网络不知道

* RDT=reliable data transfer

* 流量传输控制=TCP协议实体能够自动地根据协议来协调发送的速度和接收的速度（例如不让发送方发的太快超过了接受方的处理能力）

* condition control(拥塞控制特性)，TCP能感知传输路径的通畅情况

* TCP=transmission control protocol 传输控制协议

* UDP=user datagram protocol用户数据报协议

* 分组交换用每个节点上的数据存储时间和排队延迟时间换取线路交换没有的共享性

* 分组交换按需使用

* 路由是全局的（找路），转发是局部的

* 数据报网络路由器不维护主机和主机之间的通信状态

* TCP是面向连接的, UDP是无连接的，两者都不是有连接

* ISP之间如果采用全连接是不可扩展的

* ISP是提供网络的，ICP是提供业务的

* DC=data center(数据中心机房)

* POP关系是不对等的，是上下级的关系

* 互联网具有松散的层次结构（如tier1和tier2这样）

* 排队延迟取决于当时网络的使用情况，是随机的

* 吞吐量是指单位时间内源主机到目标主机之间发送的有效的比特的数量

* 吞吐量取决于瓶颈链路上的实际可用带宽，比如链路1虽然比链路2总带宽大，但由于链路1有n个人在用，分得的1/n小于链路2的1/n’，那么这时链路1是瓶颈链路

* 采用分层结构的两个主要好处：把大问题分解成若干个小问题便于问题解决；方便采用新技术

* 本层协议实体交换PDU（协议数据单元）要通过层间接口访问下层提供的服务

* 本层协议实体交互过程中应当遵守的动作（规则）的集合称之为协议

* 协议的目的是为上层提供更好的服务

* 本层提供的服务包括下层提供的服务的总和以及同层之间相互交流所带来的新功能

* 服务与协议的关系：协议的实现需要借助下层所提供的服务，实现本层协议的目的是为了向上层提供更好的服务

* 本层PDU的header有一部分来源上层的ICI，一部分是本层附加的东西

* PDU在不同层有不同的专门称呼：应用层-message(报文)，传输层-segment（报文段），网络层-packet（分组）和datagram(数据报)，链路层-frame(帧)，物理层-bit（位）

* 分层结构的缺点就是效率低

* 互联网是以TCP/IP协议为主的协议组/套构成的网络

* 链路层在物理层提供的基础之上在相邻两点之间传输以帧为单位的数据

* 传输层两个主要作用：完成由主机到主机-进程到进程的区分，向上层提供可靠的服务（加强网络层的服务，把不可靠变为可靠）

* P2P模式在每个会话上也有客户端进程和服务器进程之分

* TCP端口号的标识是本地的，TCP socket只有应用层和传输层知道（是这两者之间的约定）

* TCP socket意义：便于管理，减少层间传输信息量节省时间

* web服务器会有一个特殊的固定的守候在一个端口上的socket: waiting socket(welcome socket),其它socket代表的都是特定的会话关系

* HTTP1.0连接的响应时间模型：2RTT+一个对象传输时间*（前面3个请求/响应时间跟对象传输时间比起来非常小）

* 非流水线方式：一次只请求一个对象

* 跑在TCP之上的HTTP应用进程需要自己维护报文的边界（bounder）（根据http响应报文首部行里的content-length）

* IP地址的作用：标识，寻址

* DNS采用分层的命名，分布式的数据库来解决域名到ip地址间的对应关系

* DNS最核心功能：完成主机名-IP地址间的转换

* 别名便于用户访问，规范名便于主机系统的管理

* 不同国家下面的子域尽管作用相同域名的命名也可能不同

* 域和物理网络无关，域的划分是逻辑上的

* 每个域会有指针指向自己的子域再层层往下指向权威服务器完成主机名-IP地址的转换

* TTL缓存是为了性能，删除是为了一致性

* 在分布式文件系统的命名当中，哈希是一种常见的方式

* 对等方的离开要告知下线

* TCP向上层提供的服务是进程到进程之间的——以message为单位的——逻辑上的通信

* UDP与IP类似，都是(best effort)尽力而为的，只不过把主机到主机细分为进程到进程，除此之外没有再做额外的工作

* EDC的作用是判断UDP头部和UDP的载荷部分在传输过程中有没有出错，如果出错则这段UDP的数据报会被扔掉

* UDP头部固定长度8个字节，TCP为20个字节，故UDP的有效载荷部分比TCP多

* RDT2.1中若ACK/NAK出错导致重传重复的话丢弃的是新到的分组

* RDT2.2中双方要进入同步状态（同时为0或1）才能进行下一步

* 发送窗口是已经发出去的东西占的格子数，发送缓冲区是一个固定的格子数which发送窗口的格子数要小于它

* 发送窗口后沿的移动相当于是发送缓冲区的移动(前者移多少格后者也移多少格)

* 接收窗口=接收缓冲区

* 应用进程和应用进程之间报文的界限是需要自己去维护的

* TCP发送方缓冲区作用：检错/超时重传；接收方缓冲区匹配发送方和接收方速度的不一致性

* MTU=最大传输单元

* popline协议：在对方未确认的状态下可以发送很多的段

* 防止老的连接上的段对新的连接上的数据传输造成干扰

* next是下面要发的，next-1才是已发但未确认的下一个字节

* TCP的ACK是对顺序到来的最后一个字节给确认

* TCP的连接建立本质上是３次握手

* 两次连接的问题：服务器维持了虚假的连接；服务器把老数据当成新数据来接收了

* 第三次的握手一般会跟第一个数据传递合在一起